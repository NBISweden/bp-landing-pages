{{ define "main" }}
  <div data-pagefind-ignore="all" class="container">
    <main id="content" class="main-content" role="main">
       
      <script>
        window.addEventListener('DOMContentLoaded', (event) => {
          new PagefindUI({ element: "#search", showSubResults: true });
        });
      </script>
      
      <h2>Bigpicture Dataset search</h2>
      <div style="max-height: 1%;">
        <div id="search" style="overflow-x: auto;"></div>
      </div>
      
      <h2 style="margin-top: 5rem;">Explore Bigpicture datasets</h2>
      
      <div class="dataset-grid">
        {{ range where .Site.RegularPages "Section" "datasets" }}
        <a href="{{ .RelPermalink }}" class="dataset-card">
          <div class="card-body">
            <h4 class="card-title">{{ .Params.dataset_title }}</h4>
            <div class="card-short-name">DOI: {{ .Params.doi }}</div>
            <p class="card-description">{{ .Params.description | default .Summary | truncate 150 }}</p>
            {{ if .Params.keywords }}
            <div class="card-keywords">
              {{ range .Params.keywords }}
              <span class="keyword-tag">{{ . }}</span>
              {{ end }}
            </div>
            {{ end }}
          </div>
        </a>
        {{ end }}
      </div>
       
    </main>
  </div>
{{ end }}